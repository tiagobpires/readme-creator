{% extends "layout.html" %}

{% block title %}
    Profile
{% endblock %}

{% block main %}

    <h1 class="mb-3">Profile Readme</h1>

    <div id="profile_form_div">
        <p class="lead fs-4" id="hello">
            Fill in the informations you want to put on your readme
        </p>

        <form id="profile_form" autocomplete="off" spellcheck="false">
            <fieldset class="border p-2 mb-2 row gx-2">
                <legend class="legend w-auto mb-0">Greet</legend>        

                <div class="row mx-0 px-0">
                    <label class="col-md-2 col-form-label">Your Name:</label>
                    <div class="col-md-10 mb-2">
                        <input type="text" class="form-control col-sm-9" name="name" placeholder="Tiago Barros Pires">
                    </div>
                </div>
                
                <div class="row mx-0 px-0">
                    <label class="col-md-2 col-form-label">Greet Message:</label>
                    <div class="col-md-10 mb-2">
                        <input type="text" class="form-control col-sm-9 my-1" name="greet" value="üëã Hello World">
                    </div>

                    <label class="col-md-2 col-form-label">A bit about you:</label>
                    <div class="col-md-10 mb-2">
                        <textarea type="text" class="form-control col-sm-9 " name="subtitle" placeholder="I'm a brazilian computer science student at UECE"></textarea>
                    </div>
                </div>
            </fieldset>

            <fieldset class="border p-2 mb-2 row gx-2">
                <legend class="legend w-auto mb-0">More about you</legend>

                {% for about_you in more_about_you %}
                    <div class="col-md-3 mb-2">
                        <input name="about_you_prefix" type="text" class="form-control  border-top-0 border-start-0 border-end-0 about_you_prefix" value="{{ about_you['prefix'] }}">
                    </div>

                    <div class="col-md-9 mb-2">
                        <input name="about_you_input" type="text" class="form-control" placeholder="{{ about_you['place_holder'] }}">
                    </div>
                {% endfor %}

                <div class="col-md-3 mb-2">
                    <input name="about_you_link_prefix" type="text" class="form-control  border-top-0 border-start-0 border-end-0 about_you_prefix" value="üì´ Reach me">
                </div>

                <div class="col-md-9 mb-2">
                    <input name="about_you_link_input" type="text" class="form-control" placeholder="tiagobarrospires@gmail.com">
                </div>

                <div class="col-md-3 mb-2">
                    <input name="about_you_link_prefix" type="text" class="form-control  border-top-0 border-start-0 border-end-0 about_you_prefix" value="üñ•Ô∏è See my portfolio at">
                </div>

                <div class="col-md-9 mb-2">
                    <input name="about_you_link_input" type="text" class="form-control" placeholder="www.portfolio.com">
                </div>
            </fieldset>


            <fieldset class="border p-2 mb-2 row gx-2">
                <legend class="legend w-auto mb-0">Your Social Medias</legend>
                
                {% for social in social_medias %}
                    <div class="d-flex col-md-6 justify-content-start my-1">
                        <div class="divSocialBadges d-flex justify-content-end">
                            <img src="{{ social['badge'] }}" class="socialbadges my-auto mx-2">
                        </div>
                        <input name="social_media_input" type="text" id="{{ social['name'] }}" class="form-control w-50" placeholder="{{ social['name'] }} username">
                        <input name="social_media_name" class="visually-hidden"  value="{{ social['name'] }}" readonly>
                    </div>
                {% endfor %}
            </fieldset>

            <!-- Cool Features -->
            <fieldset class="border p-2 mb-2 row gx-2">
                <legend class="legend w-auto mb-0">Cool features</legend>          

                <div class="row">        
                    <label for="ghusername" class="col-8 fw-bold px-0 ms-auto">Please fill in your github username for correctly work of the features</label>        
                    <input name="github_features_username" type="text" class="form-control col-4 me-auto" id="ghusername" placeholder="GitHub username" style="height: 33px; width: 20%;">
                </div>

                <div class="row align-items-center mx-2">
                    <!-- Github Status -->
                    <div class="form-check my-1 col-xl-6 align-self-start" id="gh_status_div" onchange="gh_status_preview()">
                        <input name="gh_status_check" class="form-check-input cool_features_check" type="checkbox" value="true" id="ghstatus">
                        <label class="form-check-label" for="ghstatus">
                        GitHub Status
                        </label> 

                        <button type="button" class="btn btn-lightettings pt-0 pb-1 px-1" onclick="displaySettings('gh_status_settings'); gh_status_preview()">‚öôÔ∏è</button>

                        <div id="gh_status_settings" class="bg-success p-3" style="display: none; --bs-bg-opacity: .04;">
                            <div class="form-check my-1">
                                <input class="form-check-input" type="checkbox" value="show" id="show_icons_stats" checked>
                                <label class="form-check-label" for="show_icons_stats">
                                Show icons
                                </label>
                            </div>

                            <div class="form-check my-1">
                                <input class="form-check-input" type="checkbox" value="cont" id="cont_private_contribs" checked>
                                <label class="form-check-label" for="cont_private_contribs">
                                Count commits to privates repositories
                                </label>
                            </div>

                            <div class="form-check my-1 ps-0">
                                <label>Themes:</label>
                                <select class="form-select py-1 ps-2 features_settings_input" id="gh_status_theme">
                                    <option value="default" selected>Default</option>
                                    {% for theme in themes %}
                                        <option value="{{ theme }}">{{ theme|title }}</option>
                                    {% endfor %}
                                </select>
                            </div>

                            <p class="m-1">Hide individual stats:</p>
                            <div class="form-check form-check-inline" id="hide_individual_stats">
                                <input class="form-check-input gh_status_hide" type="checkbox" id="stars" value="stars">
                                <label class="form-check-label" for="stars">stars</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input gh_status_hide" type="checkbox" id="commits" value="commits">
                                <label class="form-check-label" for="commits">commits</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input gh_status_hide" type="checkbox" id="prs" value="prs">
                                <label class="form-check-label" for="prs">prs</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input gh_status_hide" type="checkbox" id="issues" value="issues">
                                <label class="form-check-label" for="issues">issues</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input gh_status_hide" type="checkbox" id="contribs" value="contribs">
                                <label class="form-check-label" for="contribs">contribs</label>
                            </div>

                            <div id="gh_status_preview" class="d-flex justify-content-center mt-2">
                                <input name="gh_status_url" class="visually-hidden" value="">
                                <img src="" alt="github status" id="gh_status_img" class="w-100">
                            </div>
                        </div>
                    </div>

                    <!-- Top Languages Card -->
                    <div class="form-check my-1 col-xl-6 align-self-start" id="gh_top_languages_div" onchange="top_languages_preview()">
                        <input name="gh_top_languages_check" class="form-check-input cool_features_check" type="checkbox" value="true" id="gh_top_languages">
                        <label class="form-check-label" for="gh_top_languages">
                            Top Languages Card
                        </label>

                        <button type="button" class="btn btn-lightettings pt-0 pb-1 px-1" onclick="displaySettings('gh_top_languages_settings');top_languages_preview();">‚öôÔ∏è</button>

                        <div id="gh_top_languages_settings" class="bg-success p-3" style="display: none; --bs-bg-opacity: .04;">
                            <div class="form-check my-1">
                                <input class="form-check-input" type="checkbox" value="compact" id="tl_layout" checked>
                                <label class="form-check-label" for="tl_layout">
                                    Compact Layout
                                </label>
                            </div>

                            <div class="form-check my-1 ps-0">
                                <label>Themes:</label>
                                <select class="form-select py-1 ps-2 features_settings_input" id="top_langs_theme">
                                    <option value="default" selected>Default</option>
                                    {% for theme in themes %}
                                        <option value="{{ theme }}">{{ theme|title }}</option>
                                    {% endfor %}
                                </select>
                            </div>

                            <div class="form-check my-1 ps-0">
                                <label>Number of Languages showed:</label>
                                <select class="form-select py-1 ps-2 features_settings_input" id="top_langs_count">
                                    {% for n in range(1,11) %}
                                        {% if n == 5 %}
                                            <option value="5" selected>5</option>
                                        {% else %}
                                            <option value="{{ n }}">{{ n }}</option>
                                        {% endif %}
                                    {% endfor %}
                                </select>
                            </div>
                            <div id="top_languages_preview" class="d-flex justify-content-center mt-2">
                                <input name="top_languages_url" class="visually-hidden" value="">
                                <img src="" alt="top languages" id="top_languages_img" class="w-100">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row align-items-center mx-2">
                    <!-- Profile Views -->
                    <div class="form-check my-1 col-xl-6 align-self-start" id="profile_views_div" onchange="profile_views_preview()">
                        <input name="gh_views_check" class="form-check-input cool_features_check" type="checkbox" value="true" id="ghviews">
                        <label class="form-check-label" for="ghviews">
                        Profile Views
                        </label>

                        <button type="button" class="btn btn-lightettings pt-0 pb-1 px-1" onclick="displaySettings('gh_views_settings');profile_views_preview();">‚öôÔ∏è</button>
                        <div id="gh_views_settings" class="bg-success p-3" style="display: none; --bs-bg-opacity: .04;">
                            <div class="mb-1 ps-0">
                                <label>Color:</label>
                                <select class="form-select py-1 ps-2 features_settings_input" id="gh_views_color">
                                    <option value="blue" selected>Blue</option>
                                    <option value="ff69b4">Pink</option>
                                    {% for color in colors %}
                                        <option value="{{ color }}">{{ color|title }}</option>
                                    {% endfor %}
                                </select>
                            </div>

                            <div class="my-1 ps-0">
                                <label>Styles:</label>
                                <select class="form-select py-1 ps-2 features_settings_input" id="gh_views_style">
                                    <option value="flat" selected>Flat</option>
                                    <option value="flat-square">Flat-square</option>
                                    <option value="plastic">Plastic</option>
                                </select>
                            </div>
                            
                            <label for="gh_views_label">Label</label>
                            <input type="text" class="form-control py-1 ps-2 features_settings_input" value="Profile Views" id="gh_views_label">
                            
                            <div id="profile_views_preview" class="d-flex justify-content-center mt-2">
                                <input name="profile_views_url" class="visually-hidden" value="">
                                <img src="" alt="profile views" id="profile_views_img" class="features_preview">
                            </div>
                        </div>
                    </div>

                    <!-- Streak Stats -->
                    <div class="form-check my-1 col-xl-6 align-self-start" id="streak_stats_div" onchange="streak_stats_preview()">
                        <input name="gh_streak_stats_check" class="form-check-input cool_features_check" type="checkbox" value="true" id="gh_streak">
                        <label class="form-check-label" for="gh_streak">
                        Streak Stats
                        </label>

                        <button type="button" class="btn btn-lightettings pt-0 pb-1 px-1" onclick="displaySettings('streak_stats_settings');streak_stats_preview();">‚öôÔ∏è</button>

                        <div id="streak_stats_settings" class="bg-success p-3" style="display: none; --bs-bg-opacity: .04;">
                            <label>Themes:</label>
                            <select class="form-select py-1 ps-2 features_settings_input" id="streak_stats_theme">
                                <option value="default" selected>Default</option>
                                {% for theme in themes %}
                                    <option value="{{ theme }}">{{ theme|title }}</option>
                                {% endfor %}
                            </select>

                            <div id="streak_stats_preview" class="d-flex justify-content-center mt-2">
                                <input name="streak_stats_url" class="visually-hidden" value="">
                                <img src="" alt="streak stats" id="streak_stats_img" class="w-100">
                            </div>
                        </div>
                    </div>
                </div>
            </fieldset>

            <!-- Skills -->
            <fieldset class="border p-2 mb-2 row gx-2 d-flex justify-content-center">
                <legend class="legend w-auto mb-0">Your Skills</legend>
                <div id="skillsdiv" class="row">
                    {% for key, value in skills.items() %}
                        <div class="form-check my-4 col-6 col-md-4 col-xl-3">
                            <input name="skill_name" class="form-check-input ms-xl-2" type="checkbox" value="{{ key }}" id="{{ key }}">
                            <input name="{{ key }}" class="visually-hidden" value="{{ value }}">
                            <label for="{{ key }}">
                                <img src="{{ value }}" class="skillsImage ms-xl-4">
                            </label>
                        </div>
                    {% endfor %}
                </div>
            </fieldset>
            
            <input type="submit">
        </form>
    </div>

    <div id="preview" style="display: none;">
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="back_to_form" type="button" role="tab" aria-selected="false"> ‚áΩ Back</button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link active" id="markdown-tab" data-bs-toggle="tab" data-bs-target="#markdown-content" type="button" role="tab" aria-controls="markdown-content" aria-selected="true">Markdown</button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="preview-tab" data-bs-toggle="tab" data-bs-target="#preview-content" type="button" role="tab" aria-controls="preview-content" aria-selected="false">Preview</button>
            </li>
          </ul>
          <div class="tab-content" id="myTabContent">
            <div class="tab-pane fade show active" id="markdown-content" role="tabpanel" aria-labelledby="markdown-tab">
                <textarea type="text" class="form-control px-4 py-2" id="markdown-input" value="" spellcheck="false" style="height: 500px !important;"></textarea>
            </div>
            <div class="tab-pane fade p-3 bg-dark text-white" id="preview-content" role="tabpanel" aria-labelledby="preview-tab">
                
            </div>
          </div>
    </div>

{% endblock %}

{% block script %}
<script src="/static/js/profile.js"></script>
{% endblock %}